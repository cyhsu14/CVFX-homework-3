# Computer Vision for Visual Effects Homework 3 
**Team 7** 

## Outline
1. 動機與目的
1. Image generated by GANPaint  
2. Dissect GAN and analysis
3. Method 1: Pytorch Inpainting
4. Method 2: 
5. Overall comparison and conclusion

## 動機與目的
我們要討論的是在影像中把樹移除的方法及其長處短處。另外，驗證一下Dissect GAN會拒絕產出極度不合理的圖。

## Image generated by GANPaint
|Before|After|
|:---:|:---:|
|<img src="./img/ganPaint_before.png">|<img src="./img/ganPaint_after.png">|

我們移除了影像中左側的小樹，我們可以看到在移除掉樹的地方補上了個屋頂，乍看之下挺合理的，但再仔細一看會注意到屋簷有不合常理的突起。

## Dissect GAN and analysis
|四個實驗|
|:---:|
|<img src="./img/giantTree.png"><span>嘗試要長出一柱擎天的樹</span> |
|<img src="./img/groundTree.png"><span>嘗試在地面上長出一排矮木</span>|
|<img src="./img/skyTree.png"><span>嘗試天外飛來一樹</span>|
|<img src="./img/doorTree.png"><span>嘗試在正門口長一棵樹</span>|

根據上面的實驗，我們可以看出不合理的要求：一柱擎天的樹及天外飛來一樹都沒有產出我們所預期的不合理影像，至於矮木，雖然在地面上畫了一排，終究是只有在一些避開門的地方長了兩三棵。最有趣的是最後一個實驗，當我們要求要在正門口長樹時，輸出的結果卻是在門的兩側長樹，推測是因為model學到對教堂來說門是很重要的特徵，於是在其他unit把門補回來，但把門補回來並不能解釋為何樹會長在我們要求的區域以外。

## Method 1: Pytorch Inpainting

### 作法

### 結果
<img src="./img/comp1.png" width="600px" />

左中右排分別是source，mask跟output。source中標出的紅框就是我們想要去除的部份。

首先我們先試了三張圖。第一張圖的樹是在畫面中間，上面是天空，右手邊有一棵樹，但不算很貼近。可以看到結果裡，上半部消除的還不錯，但是下半部樹幹的部分看起來很雜亂，不合理。我們想也許是因為mask是正方形，框的範圍太大不夠精確，於是就有了第二張圖。第二張圖的樹在樹叢中間，但是是一棵沒有葉子的樹。這邊的mask是用筆刷塗，想說是不是圖的輪廓乾淨一點，他可以判斷的比較好。但是結果是，中間多出了比第一張更明顯的雜訊。於是我們又嘗試了第三張，想試試如果背景不是天空，去除的效果如何。結果圖中，它有意圖延伸屋頂的邊緣線，但是將樹抹去之後，還是很不自然。

所以對於樹的移除方面，我們認為他的效果只有在移除背景單一，且獨自存在的樹，才較為自然。所以我又做了兩個圖實驗，見下圖。

<img src="./img/comp2.png" width="600px" />

第一張的移除效果就還滿好的，遠點看就看不太出來。第二張沒那麼好，｀因為樹的範圍較大，背景（牆壁）卻很單一，不怎麼能提供足夠的填補資訊，所以才有那麼多雜訊。但是地板跟牆壁的交接處，是有分辨出分隔的，所以我們認為還可以接受。


## Method 2:


## Overall comparison and conclusion